#Hey it's me Desire I encoded this File to kick ass of Credit thief's if you are a Modder you can decode it 
#If you have any problem or got bug contact me on discord 
# Discord id :- Desire#2365

exec('import re,base64,string')

exec(base64.b64decode("I1NlcnZlciBTY3JpcHQgZmlsZXMgQnkgRGVzaXJlCiNUaGlzIFNjcmlwdCBJcyBhIFByb29mIG9mIExvdmUgRnJvbSBEZXNpcmUKI05vdyBpdCdzIHlvdXIgVHVybiB0byBHaXZlIG1lIGNyZWRpdCBhbmQgc2hvdyBzb21lIGxvdmUgRnJvbSBZb3VyIFNpZGUKaW1wb3J0IGJzCmZyb20gYnNTcGF6IGltcG9ydCAqCmltcG9ydCBic0ludGVybmFsCmltcG9ydCBnZXRQZXJtaXNzaW9uc0hhc2hlcyBhcyBncGgKaW1wb3J0IGpzb24KaW1wb3J0IGJzLGJzSW50ZXJuYWwKaW1wb3J0IHJhbmRvbQpmcm9tIHNldHRpbmdzIGltcG9ydCAqCmltcG9ydCB0eXBlcwppbXBvcnQgdGltZQppbXBvcnQgdGhyZWFkaW5nCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tQmFubmRlZCBQbGF5ZXIgS2lja2VyLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KYmFubmVkID0gbGlzdChzZXQoZ3BoLmJhbmxpc3QudmFsdWVzKCkpKQpvbGQgPSBbXQoKY2xhc3MgZGV0ZWN0KHRocmVhZGluZy5UaHJlYWQpOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHRocmVhZGluZy5UaHJlYWQuX19pbml0X18oc2VsZikKICAgIGRlZiBydW4oc2VsZik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBnbG9iYWwgb2xkCiAgICAgICAgICAgIHJvc3RlciA9IGJzSW50ZXJuYWwuX2dldEdhbWVSb3N0ZXIoKQogICAgICAgICAgICBpZiByb3N0ZXIgIT0gb2xkOgogICAgICAgICAgICAgICAgI3ByaW50IHJvc3RlcgogICAgICAgICAgICAgICAgZm9yIGkgaW4gcm9zdGVyOgogICAgICAgICAgICAgICAgICAgIGEgPSBpWydkaXNwbGF5U3RyaW5nJ10KICAgICAgICAgICAgICAgICAgICBpZiBhIGluIGJhbm5lZDoKICAgICAgICAgICAgICAgICAgICAgICB3aXRoIGJzLkNvbnRleHQoJ1VJJyk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgIGJzSW50ZXJuYWwuX2NoYXRNZXNzYWdlKGEgKyAiLCBZb3UgYXJlIGJhbm5lZCBkdWUgdG8gdm9pbGF0aW9uIG9mIHJ1bGVzLiIpIAogICAgICAgICAgICAgICAgICAgICAgIGJzSW50ZXJuYWwuX2Rpc2Nvbm5lY3RDbGllbnQoaW50KGlbJ2NsaWVudElEJ10pKQogICAgICAgICAgICAgICAgb2xkID0gcm9zdGVyCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwYXNzCiAgICAgICAgYnMucmVhbFRpbWVyKDIwMDAsc2VsZi5ydW4pCmRldGVjdCgpLnN0YXJ0KCkKCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tc2V0Y2hhdCBmdW5jdGlvbnMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKI3lvdSB3aWxsIG5lZWQgc2V0dGluZ3MucHkgZnJvbSBvdXIgcmVwb3NpdG9yeQppbnggPSAwCmRlZiBtZXNzYWdlKCk6CiAgICBnbG9iYWwgaW54CiAgICBpZiBhbGxvdzoKICAgIAlic0ludGVybmFsLl9jaGF0TWVzc2FnZShtZXNzYWdlTGlzdFtpbnhdKQogICAgCWlmIGlueCA8IGxlbihtZXNzYWdlTGlzdCk6CiAgICAgICAgCWlueCs9IDEKICAgIAlpZiBpbnggPT0gbGVuKG1lc3NhZ2VMaXN0KToKICAgICAgICAJaW54ID0gMApDTVQgPSBjaGF0TWVzc2FnZVRpbWUqMTAwMAp0aW1lciA9IGJzLlRpbWVyKENNVCxtZXNzYWdlLHRpbWVUeXBlPSdyZWFsJyxyZXBlYXQ9VHJ1ZSkKCmNyZWRpdCA9IHUiXHVlMDBjU2NyaXB0IEJ5IERlc2lyZVx1ZTAwYyIgI0RvIE5vdCBDaGFuZ2UgT3IgU2NyaXB0IFdpbGwgQ3Jhc2gKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1BdXRvIEFkbWluLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0Kb2xkX2FkbWluID0gZ3BoLmFkbWluSGFzaGVzCm9sZF92aXAgPSBncGgudmlwSGFzaGVzCgojR2l2ZXMgQWRtaW4gVG8gUmFuayAxCmRlZiBhZG1pbih2YWwpOgogICAgZmkgPSBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICcvcFN0YXRzLmpzb24nLCAncicpCiAgICBwYXRzID0ganNvbi5sb2FkcyhmaS5yZWFkKCkpCiAgICBmb3IgcGJfaWQgaW4gcGF0czoKICAgICAgICByYW5rX2NoZWNrID0gcGF0c1twYl9pZF1bInJhbmsiXQogICAgICAgIGlmIGludChyYW5rX2NoZWNrKSA9PSBpbnQodmFsKToKICAgICAgICAgICAga2V5MSA9IGxpc3QocGF0cy5rZXlzKCkpCiAgICAgICAgICAgIGZvciBpIGluIGtleTE6CiAgICAgICAgICAgICAgICBpZiBwYXRzW2ldWyJyYW5rIl0gPT0gdmFsOgogICAgICAgICAgICAgICAgICAgIG9sZF9hZG1pbi5hcHBlbmQoaSkKICAgICAgICAgICAgICAgICAgICBuZXdfYWRtaW4gPSBvbGRfYWRtaW4KICAgIHdpdGggb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAnL2dldFBlcm1pc3Npb25zSGFzaGVzLnB5JykgYXMgKGZpbGUpOgogICAgICAgIHMgPSBbIHJvdyBmb3Igcm93IGluIGZpbGUgXQogICAgICAgIHNbMF0gPSAnYWRtaW5IYXNoZXMgPSAnKyBzdHIobmV3X2FkbWluKSArICdcbicKICAgICAgICBmID0gb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAnL2dldFBlcm1pc3Npb25zSGFzaGVzLnB5JywndycpCiAgICAgICAgZm9yIGkgaW4gczoKICAgICAgICAgICAgZi53cml0ZShpKQogICAgICAgIGYuY2xvc2UoKQogICAgYnMuc2NyZWVuTWVzc2FnZSgiQWRtaW5zIFVwZGF0ZWQiLGNvbG9yID0gKDAsMSwwKSkKCiNHaXZlcyBWaXAgVG8gUmFuayAyCmRlZiB2aXAodmFsKToKICAgIGZpID0gb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAnL3BTdGF0cy5qc29uJywgJ3InKQogICAgcGF0cyA9IGpzb24ubG9hZHMoZmkucmVhZCgpKQogICAgZm9yIHBiX2lkIGluIHBhdHM6CiAgICAgICAgcmFua19jaGVjayA9IHBhdHNbcGJfaWRdWyJyYW5rIl0KICAgICAgICBpZiBpbnQocmFua19jaGVjaykgPT0gaW50KHZhbCk6CiAgICAgICAgICAgIGtleTEgPSBsaXN0KHBhdHMua2V5cygpKQogICAgICAgICAgICBmb3IgaSBpbiBrZXkxOgogICAgICAgICAgICAgICAgaWYgcGF0c1tpXVsicmFuayJdID09IHZhbDoKICAgICAgICAgICAgICAgICAgICBvbGRfdmlwLmFwcGVuZChpKQogICAgICAgICAgICAgICAgICAgIG5ld192aXAgPSBvbGRfdmlwCiAgICB3aXRoIG9wZW4oYnMuZ2V0RW52aXJvbm1lbnQoKVsnc3lzdGVtU2NyaXB0c0RpcmVjdG9yeSddICsgJy9nZXRQZXJtaXNzaW9uc0hhc2hlcy5weScpIGFzIChmaWxlKToKICAgICAgICBzID0gWyByb3cgZm9yIHJvdyBpbiBmaWxlIF0KICAgICAgICBzWzFdID0gJ3ZpcEhhc2hlcyA9ICcrIHN0cihuZXdfdmlwKSArICdcbicKICAgICAgICBmID0gb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAnL2dldFBlcm1pc3Npb25zSGFzaGVzLnB5JywndycpCiAgICAgICAgZm9yIGkgaW4gczoKICAgICAgICAgICAgZi53cml0ZShpKQogICAgICAgIGYuY2xvc2UoKQogICAgYnMuc2NyZWVuTWVzc2FnZSgiVmlwcyBVcGRhdGVkIixjb2xvciA9ICgwLDEsMCkpCgoKI2JzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICcvcFN0YXRzLmpzb24nCiIiIgogICAgZmkgPSBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICcvcFN0YXRzLmpzb24nLCAncicpCiAgICBwYXRzID0ganNvbi5sb2FkcyhmaS5yZWFkKCkpCiAgICBmb3IgcGJfaWQgaW4gcGF0czoKICAgICAgICByYW5rX2NoZWNrID0gcGF0c1twYl9pZF1bInJhbmsiXQogICAgICAgIGlmIGludChyYW5rX2NoZWNrKSA9PSAxOgogICAgICAgICAgICBrZXkxID0gbGlzdChwYXRzLmtleXMoKSkKICAgICAgICAgICAgZm9yIGkgaW4ga2V5MToKICAgICAgICAgICAgICAgIGlmIHBhdHNbaV1bInJhbmsiXSA9PSAiMSI6CiAgICAgICAgICAgICAgICAgICAgb2xkX2FkbWluLmFwcGVuZChpKQogICAgICAgICAgICAgICAgICAgIG5ld19hZG1pbiA9IG9sZF9hZG1pbgoiIiIKCgoKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1Qb3dlcnVwcy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRlZiBuUCh2YWwpOgogICAgaWYgdmFsID09IDA6CiAgICAgICAgd2l0aCBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIpIGFzIChmaWxlKToKICAgICAgICAgICAgcyA9IFsgcm93IGZvciByb3cgaW4gZmlsZSBdCiAgICAgICAgICAgIHNbMjNdID0gIm5hbWVPblBvd2VyVXBzID0gRmFsc2UiKyJcbiIKICAgICAgICAgICAgZiA9IG9wZW4oYnMuZ2V0RW52aXJvbm1lbnQoKVsnc3lzdGVtU2NyaXB0c0RpcmVjdG9yeSddICsgIi9oYWNrLnB5IiwidyIpCiAgICAgICAgICAgIGZvciBpIGluIHM6CiAgICAgICAgICAgICAgICBmLndyaXRlKGkpCiAgICAgICAgICAgIGYuY2xvc2UoKQogICAgICAgICAgICBicy5zY3JlZW5NZXNzYWdlKCJOYW1lIE9uIFBvd2VyVXBzIFNldCAtLS0tPiBGYWxzZSIsY29sb3IgPSAoMSwwLDApKQogICAgICAgICAgICBicy5zY3JlZW5NZXNzYWdlKCJOb3cgUmVzdGFydCBTZXJ2ZXIgVXNpbmcgL3F1aXQiLCB0cmFuc2llbnQ9VHJ1ZSwgY2xpZW50cz1bY2xpZW50SURdKQogICAgZWxpZiB2YWwgPT0gMToKICAgIAl3aXRoIG9wZW4oYnMuZ2V0RW52aXJvbm1lbnQoKVsnc3lzdGVtU2NyaXB0c0RpcmVjdG9yeSddICsgIi9oYWNrLnB5IikgYXMgKGZpbGUpOgogICAgICAgICAgICBzID0gWyByb3cgZm9yIHJvdyBpbiBmaWxlIF0KICAgICAgICAgICAgc1syM10gPSAibmFtZU9uUG93ZXJVcHMgPSBUcnVlIisiXG4iCiAgICAgICAgICAgIGYgPSBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIsInciKQogICAgICAgICAgICBmb3IgaSBpbiBzOgogICAgICAgICAgICAgICAgZi53cml0ZShpKQogICAgICAgICAgICBmLmNsb3NlKCkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiTmFtZSBPbiBQb3dlclVwcyBTZXQgLS0tLT4gVHJ1ZSIsY29sb3IgPSgwLDEsMCkpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIk5vdyBSZXN0YXJ0IFNlcnZlciBVc2luZyAvcXVpdCIsIHRyYW5zaWVudD1UcnVlLCBjbGllbnRzPVtjbGllbnRJRF0pCiNwb3dlcnVwIHRpbWVyCmRlZiBwVCh2YWwpOgogICAgaWYgdmFsID09IDA6CiAgICAgICAgd2l0aCBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIpIGFzIChmaWxlKToKICAgICAgICAgICAgcyA9IFsgcm93IGZvciByb3cgaW4gZmlsZSBdCiAgICAgICAgICAgIHNbMjldID0gInBvd2VydXBUaW1lciA9IEZhbHNlIisiXG4iCiAgICAgICAgICAgIGYgPSBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIsInciKQogICAgICAgICAgICBmb3IgaSBpbiBzOgogICAgICAgICAgICAgICAgZi53cml0ZShpKQogICAgICAgICAgICBmLmNsb3NlKCkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiUG93ZXJ1cCBUaW1lciBTZXQgLS0tLT4gRmFsc2UiLGNvbG9yID0gKDEsMCwwKSkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiTm93IFJlc3RhcnQgU2VydmVyIFVzaW5nIC9xdWl0IiwgdHJhbnNpZW50PVRydWUsIGNsaWVudHM9W2NsaWVudElEXSkKICAgIGVsaWYgdmFsID09IDE6CiAgICAJd2l0aCBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIpIGFzIChmaWxlKToKICAgICAgICAgICAgcyA9IFsgcm93IGZvciByb3cgaW4gZmlsZSBdCiAgICAgICAgICAgIHNbMjldID0gInBvd2VydXBUaW1lciA9IFRydWUiKyJcbiIKICAgICAgICAgICAgZiA9IG9wZW4oYnMuZ2V0RW52aXJvbm1lbnQoKVsnc3lzdGVtU2NyaXB0c0RpcmVjdG9yeSddICsgIi9oYWNrLnB5IiwidyIpCiAgICAgICAgICAgIGZvciBpIGluIHM6CiAgICAgICAgICAgICAgICBmLndyaXRlKGkpCiAgICAgICAgICAgIGYuY2xvc2UoKQogICAgICAgICAgICBicy5zY3JlZW5NZXNzYWdlKCJQb3dlcnVwIFRpbWVyIFNldCAtLS0tPiBUcnVlIixjb2xvciA9ICgwLDEsMCkpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIk5vdyBSZXN0YXJ0IFNlcnZlciBVc2luZyAvcXVpdCIsIHRyYW5zaWVudD1UcnVlLCBjbGllbnRzPVtjbGllbnRJRF0pCgojc2hpZWxkIG9uIHBvd2VydXBzCmRlZiBzUCh2YWwpOgogICAgaWYgdmFsID09IDA6CiAgICAgICAgd2l0aCBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIpIGFzIChmaWxlKToKICAgICAgICAgICAgcyA9IFsgcm93IGZvciByb3cgaW4gZmlsZSBdCiAgICAgICAgICAgIHNbMjVdID0gInNoaWVsZE9uUG93ZXJVcHMgPSBGYWxzZSIrIlxuIgogICAgICAgICAgICBmID0gb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAiL2hhY2sucHkiLCJ3IikKICAgICAgICAgICAgZm9yIGkgaW4gczoKICAgICAgICAgICAgICAgIGYud3JpdGUoaSkKICAgICAgICAgICAgZi5jbG9zZSgpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIlNoaWVsZCBPbiBQb3dlclVwcyBTZXQgLS0tLT4gRmFsc2UiLGNvbG9yID0gKDEsMCwwKSkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiTm93IFJlc3RhcnQgU2VydmVyIFVzaW5nIC9xdWl0IiwgdHJhbnNpZW50PVRydWUsIGNsaWVudHM9W2NsaWVudElEXSkKICAgIGVsaWYgdmFsID09IDE6CiAgICAJd2l0aCBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIpIGFzIChmaWxlKToKICAgICAgICAgICAgcyA9IFsgcm93IGZvciByb3cgaW4gZmlsZSBdCiAgICAgICAgICAgIHNbMjVdID0gInNoaWVsZE9uUG93ZXJVcHMgPSBUcnVlIisiXG4iCiAgICAgICAgICAgIGYgPSBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIsInciKQogICAgICAgICAgICBmb3IgaSBpbiBzOgogICAgICAgICAgICAgICAgZi53cml0ZShpKQogICAgICAgICAgICBmLmNsb3NlKCkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiU2hpZWxkIE9uIFBvd2VyVXBzIFNldCAtLS0tPiBUcnVlIixjb2xvciA9ICgwLDEsMCkpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIk5vdyBSZXN0YXJ0IFNlcnZlciBVc2luZyAvcXVpdCIsIHRyYW5zaWVudD1UcnVlLCBjbGllbnRzPVtjbGllbnRJRF0pCiNkaXNjbyAgICAgICAgICAgIApkZWYgZFAodmFsKToKICAgIGlmIHZhbCA9PSAwOgogICAgICAgIHdpdGggb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAiL2hhY2sucHkiKSBhcyAoZmlsZSk6CiAgICAgICAgICAgIHMgPSBbIHJvdyBmb3Igcm93IGluIGZpbGUgXQogICAgICAgICAgICBzWzI3XSA9ICJkaXNjb0xpZ2h0c09uUG93ZXJVcHMgPSBGYWxzZSIrIlxuIgogICAgICAgICAgICBmID0gb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAiL2hhY2sucHkiLCJ3IikKICAgICAgICAgICAgZm9yIGkgaW4gczoKICAgICAgICAgICAgICAgIGYud3JpdGUoaSkKICAgICAgICAgICAgZi5jbG9zZSgpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIlNoaWVsZCBPbiBQb3dlclVwcyBTZXQgLS0tLT4gRmFsc2UiLGNvbG9yID0gKDEsMCwwKSkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiTm93IFJlc3RhcnQgU2VydmVyIFVzaW5nIC9xdWl0IiwgdHJhbnNpZW50PVRydWUsIGNsaWVudHM9W2NsaWVudElEXSkKICAgIGVsaWYgdmFsID09IDE6CiAgICAJd2l0aCBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIpIGFzIChmaWxlKToKICAgICAgICAgICAgcyA9IFsgcm93IGZvciByb3cgaW4gZmlsZSBdCiAgICAgICAgICAgIHNbMjddID0gImRpc2NvTGlnaHRzT25Qb3dlclVwcyA9IFRydWUiKyJcbiIKICAgICAgICAgICAgZiA9IG9wZW4oYnMuZ2V0RW52aXJvbm1lbnQoKVsnc3lzdGVtU2NyaXB0c0RpcmVjdG9yeSddICsgIi9oYWNrLnB5IiwidyIpCiAgICAgICAgICAgIGZvciBpIGluIHM6CiAgICAgICAgICAgICAgICBmLndyaXRlKGkpCiAgICAgICAgICAgIGYuY2xvc2UoKQogICAgICAgICAgICBicy5zY3JlZW5NZXNzYWdlKCJTaGllbGQgT24gUG93ZXJVcHMgU2V0IC0tLS0+IFRydWUiLGNvbG9yID0gKDAsMSwwKSkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiTm93IFJlc3RhcnQgU2VydmVyIFVzaW5nIC9xdWl0IiwgdHJhbnNpZW50PVRydWUsIGNsaWVudHM9W2NsaWVudElEXSkKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1Cb21icy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgICAgICAgICAgCiNib21iIG5hbWUKZGVmIGJOKHZhbCk6CiAgICBpZiB2YWwgPT0gMDoKICAgICAgICB3aXRoIG9wZW4oYnMuZ2V0RW52aXJvbm1lbnQoKVsnc3lzdGVtU2NyaXB0c0RpcmVjdG9yeSddICsgIi9oYWNrLnB5IikgYXMgKGZpbGUpOgogICAgICAgICAgICBzID0gWyByb3cgZm9yIHJvdyBpbiBmaWxlIF0KICAgICAgICAgICAgc1sxOV0gPSAiYm9tYk5hbWUgPSBGYWxzZSIrIlxuIgogICAgICAgICAgICBmID0gb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAiL2hhY2sucHkiLCJ3IikKICAgICAgICAgICAgZm9yIGkgaW4gczoKICAgICAgICAgICAgICAgIGYud3JpdGUoaSkKICAgICAgICAgICAgZi5jbG9zZSgpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIkJvbWJOYW1lIFNldCAtLS0tPiBGYWxzZSIsY29sb3IgPSAoMSwwLDApKQogICAgICAgICAgICBicy5zY3JlZW5NZXNzYWdlKCJOb3cgUmVzdGFydCBTZXJ2ZXIgVXNpbmcgL3F1aXQiLCB0cmFuc2llbnQ9VHJ1ZSwgY2xpZW50cz1bY2xpZW50SURdKQogICAgZWxpZiB2YWwgPT0gMToKICAgIAl3aXRoIG9wZW4oYnMuZ2V0RW52aXJvbm1lbnQoKVsnc3lzdGVtU2NyaXB0c0RpcmVjdG9yeSddICsgIi9oYWNrLnB5IikgYXMgKGZpbGUpOgogICAgICAgICAgICBzID0gWyByb3cgZm9yIHJvdyBpbiBmaWxlIF0KICAgICAgICAgICAgc1sxOV0gPSAiYm9tYk5hbWUgPSBUcnVlIisiXG4iCiAgICAgICAgICAgIGYgPSBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIsInciKQogICAgICAgICAgICBmb3IgaSBpbiBzOgogICAgICAgICAgICAgICAgZi53cml0ZShpKQogICAgICAgICAgICBmLmNsb3NlKCkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiQm9tYk5hbWUgU2V0IC0tLS0+IFRydWUiLGNvbG9yID0gKDAsMSwwKSkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiTm93IFJlc3RhcnQgU2VydmVyIFVzaW5nIC9xdWl0IiwgdHJhbnNpZW50PVRydWUsIGNsaWVudHM9W2NsaWVudElEXSkKI2JpZyBib21iCmRlZiBiQih2YWwpOgogICAgaWYgdmFsID09IDA6CiAgICAgICAgd2l0aCBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIpIGFzIChmaWxlKToKICAgICAgICAgICAgcyA9IFsgcm93IGZvciByb3cgaW4gZmlsZSBdCiAgICAgICAgICAgIHNbMjFdID0gImJpZ0JvbWIgPSBGYWxzZSIrIlxuIgogICAgICAgICAgICBmID0gb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAiL2hhY2sucHkiLCJ3IikKICAgICAgICAgICAgZm9yIGkgaW4gczoKICAgICAgICAgICAgICAgIGYud3JpdGUoaSkKICAgICAgICAgICAgZi5jbG9zZSgpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIkJpZ0JvbWIgU2V0IC0tLS0+IEZhbHNlIixjb2xvciA9ICgxLDAsMCkpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIk5vdyBSZXN0YXJ0IFNlcnZlciBVc2luZyAvcXVpdCIsIHRyYW5zaWVudD1UcnVlLCBjbGllbnRzPVtjbGllbnRJRF0pCiAgICBlbGlmIHZhbCA9PSAxOgogICAgCXdpdGggb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAiL2hhY2sucHkiKSBhcyAoZmlsZSk6CiAgICAgICAgICAgIHMgPSBbIHJvdyBmb3Igcm93IGluIGZpbGUgXQogICAgICAgICAgICBzWzIxXSA9ICJiaWdCb21iID0gVHJ1ZSIrIlxuIgogICAgICAgICAgICBmID0gb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAiL2hhY2sucHkiLCJ3IikKICAgICAgICAgICAgZm9yIGkgaW4gczoKICAgICAgICAgICAgICAgIGYud3JpdGUoaSkKICAgICAgICAgICAgZi5jbG9zZSgpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIkJpZ0JvbWIgU2V0IC0tLS0+IFRydWUiLGNvbG9yID0gKDAsMSwwKSkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiTm93IFJlc3RhcnQgU2VydmVyIFVzaW5nIC9xdWl0IiwgdHJhbnNpZW50PVRydWUsIGNsaWVudHM9W2NsaWVudElEXSkgICAgICAgICAgICAKI2JvbWIgbGlnaHQKZGVmIGJMKHZhbCk6CiAgICBpZiB2YWwgPT0gMDoKICAgICAgICB3aXRoIG9wZW4oYnMuZ2V0RW52aXJvbm1lbnQoKVsnc3lzdGVtU2NyaXB0c0RpcmVjdG9yeSddICsgIi9oYWNrLnB5IikgYXMgKGZpbGUpOgogICAgICAgICAgICBzID0gWyByb3cgZm9yIHJvdyBpbiBmaWxlIF0KICAgICAgICAgICAgc1sxN10gPSAiYm9tYkxpZ2h0cyA9IEZhbHNlIisiXG4iCiAgICAgICAgICAgIGYgPSBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIsInciKQogICAgICAgICAgICBmb3IgaSBpbiBzOgogICAgICAgICAgICAgICAgZi53cml0ZShpKQogICAgICAgICAgICBmLmNsb3NlKCkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiQm9tYkxpZ2h0cyBTZXQgLS0tLT4gRmFsc2UiLGNvbG9yID0gKDEsMCwwKSkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiTm93IFJlc3RhcnQgU2VydmVyIFVzaW5nIC9xdWl0IiwgdHJhbnNpZW50PVRydWUsIGNsaWVudHM9W2NsaWVudElEXSkKICAgIGVsaWYgdmFsID09IDE6CiAgICAJd2l0aCBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIpIGFzIChmaWxlKToKICAgICAgICAgICAgcyA9IFsgcm93IGZvciByb3cgaW4gZmlsZSBdCiAgICAgICAgICAgIHNbMTddID0gImJvbWJMaWdodHMgPSBUcnVlIisiXG4iCiAgICAgICAgICAgIGYgPSBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIsInciKQogICAgICAgICAgICBmb3IgaSBpbiBzOgogICAgICAgICAgICAgICAgZi53cml0ZShpKQogICAgICAgICAgICBmLmNsb3NlKCkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiQm9tYkxpZ2h0cyBTZXQgLS0tLT4gVHJ1ZSIsY29sb3IgPSAoMCwxLDApKQogICAgICAgICAgICBicy5zY3JlZW5NZXNzYWdlKCJOb3cgUmVzdGFydCBTZXJ2ZXIgVXNpbmcgL3F1aXQiLCB0cmFuc2llbnQ9VHJ1ZSwgY2xpZW50cz1bY2xpZW50SURdKSAgICAgICAgICAgICAgICAgICAgICAgIAojU2hpZWxkIG9uIEJvbWIgICAgICAgICAgICAKZGVmIHNCKHZhbCk6CiAgICBpZiB2YWwgPT0gMDoKICAgICAgICB3aXRoIG9wZW4oYnMuZ2V0RW52aXJvbm1lbnQoKVsnc3lzdGVtU2NyaXB0c0RpcmVjdG9yeSddICsgIi9oYWNrLnB5IikgYXMgKGZpbGUpOgogICAgICAgICAgICBzID0gWyByb3cgZm9yIHJvdyBpbiBmaWxlIF0KICAgICAgICAgICAgc1sxNV0gPSAic2hpZWxkQm9tYiA9IEZhbHNlIisiXG4iCiAgICAgICAgICAgIGYgPSBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIsInciKQogICAgICAgICAgICBmb3IgaSBpbiBzOgogICAgICAgICAgICAgICAgZi53cml0ZShpKQogICAgICAgICAgICBmLmNsb3NlKCkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiU2hpZWxkIG9uIEJvbWIgU2V0IC0tLS0+IEZhbHNlIixjb2xvciA9ICgxLDAsMCkpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIk5vdyBSZXN0YXJ0IFNlcnZlciBVc2luZyAvcXVpdCIsIHRyYW5zaWVudD1UcnVlLCBjbGllbnRzPVtjbGllbnRJRF0pCiAgICBlbGlmIHZhbCA9PSAxOgogICAgCXdpdGggb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAiL2hhY2sucHkiKSBhcyAoZmlsZSk6CiAgICAgICAgICAgIHMgPSBbIHJvdyBmb3Igcm93IGluIGZpbGUgXQogICAgICAgICAgICBzWzE1XSA9ICJzaGllbGRCb21iID0gVHJ1ZSIrIlxuIgogICAgICAgICAgICBmID0gb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAiL2hhY2sucHkiLCJ3IikKICAgICAgICAgICAgZm9yIGkgaW4gczoKICAgICAgICAgICAgICAgIGYud3JpdGUoaSkKICAgICAgICAgICAgZi5jbG9zZSgpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIlNoaWVsZCBvbiBCb21iIFNldCAtLS0tPiBUcnVlIixjb2xvciA9ICgwLDEsMCkpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIk5vdyBSZXN0YXJ0IFNlcnZlciBVc2luZyAvcXVpdCIsIHRyYW5zaWVudD1UcnVlLCBjbGllbnRzPVtjbGllbnRJRF0pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tU2V0dGluZ3MtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgICAgICAgICAgICAgICAgICAgICAgIAojbmlnaHQgbW9kCmRlZiBuTSh2YWwpOgogICAgaWYgdmFsID09IDA6CiAgICAgICAgd2l0aCBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIpIGFzIChmaWxlKToKICAgICAgICAgICAgcyA9IFsgcm93IGZvciByb3cgaW4gZmlsZSBdCiAgICAgICAgICAgIHNbOV0gPSAibmlnaHRNb2RlID0gRmFsc2UiKyJcbiIKICAgICAgICAgICAgZiA9IG9wZW4oYnMuZ2V0RW52aXJvbm1lbnQoKVsnc3lzdGVtU2NyaXB0c0RpcmVjdG9yeSddICsgIi9oYWNrLnB5IiwidyIpCiAgICAgICAgICAgIGZvciBpIGluIHM6CiAgICAgICAgICAgICAgICBmLndyaXRlKGkpCiAgICAgICAgICAgIGYuY2xvc2UoKQogICAgICAgICAgICBicy5zY3JlZW5NZXNzYWdlKCJBbHdheXMgTmlnaHQgTW9kZSBTZXQgLS0tLT4gRmFsc2UiLGNvbG9yID0gKDEsMCwwKSkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiTm93IFJlc3RhcnQgU2VydmVyIFVzaW5nIC9xdWl0IiwgdHJhbnNpZW50PVRydWUsIGNsaWVudHM9W2NsaWVudElEXSkKICAgIGVsaWYgdmFsID09IDE6CiAgICAgICAgd2l0aCBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIpIGFzIChmaWxlKToKICAgICAgICAgICAgcyA9IFsgcm93IGZvciByb3cgaW4gZmlsZSBdCiAgICAgICAgICAgIHNbOV0gPSAibmlnaHRNb2RlID0gVHJ1ZSIrIlxuIgogICAgICAgICAgICBmID0gb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAiL2hhY2sucHkiLCJ3IikKICAgICAgICAgICAgZm9yIGkgaW4gczoKICAgICAgICAgICAgICAgIGYud3JpdGUoaSkKICAgICAgICAgICAgZi5jbG9zZSgpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIkFsd2F5cyBOaWdodCBNb2RlIFNldCAtLS0tPiBUcnVlIixjb2xvciA9ICgwLDEsMCkpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIk5vdyBSZXN0YXJ0IFNlcnZlciBVc2luZyAvcXVpdCIsIHRyYW5zaWVudD1UcnVlLCBjbGllbnRzPVtjbGllbnRJRF0pCiNhbmltYXRlICAgICAgICAgICAgCmRlZiBhVCh2YWwpOgogICAgaWYgdmFsID09IDA6CiAgICAgICAgd2l0aCBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIpIGFzIChmaWxlKToKICAgICAgICAgICAgcyA9IFsgcm93IGZvciByb3cgaW4gZmlsZSBdCiAgICAgICAgICAgIHNbMTNdID0gImFuaW1hdGUgPSBGYWxzZSIrIlxuIgogICAgICAgICAgICBmID0gb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAiL2hhY2sucHkiLCJ3IikKICAgICAgICAgICAgZm9yIGkgaW4gczoKICAgICAgICAgICAgICAgIGYud3JpdGUoaSkKICAgICAgICAgICAgZi5jbG9zZSgpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoImFuaW1hdGUgTW9kZSBTZXQgLS0tLT4gRmFsc2UiLGNvbG9yID0gKDEsMCwwKSkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiTm93IFJlc3RhcnQgU2VydmVyIFVzaW5nIC9xdWl0IiwgdHJhbnNpZW50PVRydWUsIGNsaWVudHM9W2NsaWVudElEXSkKICAgIGVsaWYgdmFsID09IDE6CiAgICAgICAgd2l0aCBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIpIGFzIChmaWxlKToKICAgICAgICAgICAgcyA9IFsgcm93IGZvciByb3cgaW4gZmlsZSBdCiAgICAgICAgICAgIHNbMTNdID0gImFuaW1hdGUgPSBUcnVlIisiXG4iCiAgICAgICAgICAgIGYgPSBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvaGFjay5weSIsInciKQogICAgICAgICAgICBmb3IgaSBpbiBzOgogICAgICAgICAgICAgICAgZi53cml0ZShpKQogICAgICAgICAgICBmLmNsb3NlKCkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiYW5pbWF0ZSBNb2RlIFNldCAtLS0tPiBUcnVlIixjb2xvciA9ICgwLDEsMCkpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIk5vdyBSZXN0YXJ0IFNlcnZlciBVc2luZyAvcXVpdCIsIHRyYW5zaWVudD1UcnVlLCBjbGllbnRzPVtjbGllbnRJRF0pICAgICAgICAgICAgCiNTdGF0cyAKZGVmIHNTKHZhbCk6CiAgICBpZiB2YWwgPT0gMDoKICAgICAgICB3aXRoIG9wZW4oYnMuZ2V0RW52aXJvbm1lbnQoKVsnc3lzdGVtU2NyaXB0c0RpcmVjdG9yeSddICsgIi9zZXR0aW5ncy5weSIpIGFzIChmaWxlKToKICAgICAgICAgICAgcyA9IFsgcm93IGZvciByb3cgaW4gZmlsZSBdCiAgICAgICAgICAgIHNbMTBdID0gImVuYWJsZVN0YXRzID0gRmFsc2UiKyJcbiIKICAgICAgICAgICAgZiA9IG9wZW4oYnMuZ2V0RW52aXJvbm1lbnQoKVsnc3lzdGVtU2NyaXB0c0RpcmVjdG9yeSddICsgIi9zZXR0aW5ncy5weSIsInciKQogICAgICAgICAgICBmb3IgaSBpbiBzOgogICAgICAgICAgICAgICAgZi53cml0ZShpKQogICAgICAgICAgICBmLmNsb3NlKCkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiU3RhdHMgU2V0IFRvIC0tLS0+IEZhbHNlIixjb2xvciA9ICgxLDAsMCkpCiAgICAgICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIk5vdyBSZXN0YXJ0IFNlcnZlciBVc2luZyAvcXVpdCIsY29sb3IgPSAoMSwxLDEpKQogICAgZWxpZiB2YWwgPT0gMToKICAgICAgICB3aXRoIG9wZW4oYnMuZ2V0RW52aXJvbm1lbnQoKVsnc3lzdGVtU2NyaXB0c0RpcmVjdG9yeSddICsgIi9zZXR0aW5ncy5weSIpIGFzIChmaWxlKToKICAgICAgICAgICAgcyA9IFsgcm93IGZvciByb3cgaW4gZmlsZSBdCiAgICAgICAgICAgIHNbMTBdID0gImVuYWJsZVN0YXRzID0gVHJ1ZSIrIlxuIgogICAgICAgICAgICBmID0gb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAiL3NldHRpbmdzLnB5IiwidyIpCiAgICAgICAgICAgIGZvciBpIGluIHM6CiAgICAgICAgICAgICAgICBmLndyaXRlKGkpCiAgICAgICAgICAgIGYuY2xvc2UoKQogICAgICAgICAgICBicy5zY3JlZW5NZXNzYWdlKCJTdGF0cyBTZXQgVG8gLS0tLT4gVHJ1ZSIsY29sb3IgPSAoMCwxLDApKQogICAgICAgICAgICBicy5zY3JlZW5NZXNzYWdlKCJOb3cgUmVzdGFydCBTZXJ2ZXIgVXNpbmcgL3F1aXQiLGNvbG9yID0gKDEsMSwxKSkKI2NvaW4gc3lzdGVtIApkZWYgY1ModmFsKToKICAgIGlmIHZhbCA9PSAwOgogICAgICAgIHdpdGggb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAiL3NldHRpbmdzLnB5IikgYXMgKGZpbGUpOgogICAgICAgICAgICBzID0gWyByb3cgZm9yIHJvdyBpbiBmaWxlIF0KICAgICAgICAgICAgc1s4XSA9ICJlbmFibGVDb2luU3lzdGVtID0gRmFsc2UiKyJcbiIKICAgICAgICAgICAgZiA9IG9wZW4oYnMuZ2V0RW52aXJvbm1lbnQoKVsnc3lzdGVtU2NyaXB0c0RpcmVjdG9yeSddICsgIi9zZXR0aW5ncy5weSIsInciKQogICAgICAgICAgICBmb3IgaSBpbiBzOgogICAgICAgICAgICAgICAgZi53cml0ZShpKQogICAgICAgICAgICBmLmNsb3NlKCkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiQ29pbiBTeXN0ZW0gLS0tLT4gRGlzYWJsZWQiLGNvbG9yID0gKDEsMCwwKSkKICAgICAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiTm93IFJlc3RhcnQgU2VydmVyIFVzaW5nIC9xdWl0Iixjb2xvciA9ICgxLDEsMSkpCiAgICBlbGlmIHZhbCA9PSAxOgogICAgICAgIHdpdGggb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAiL3NldHRpbmdzLnB5IikgYXMgKGZpbGUpOgogICAgICAgICAgICBzID0gWyByb3cgZm9yIHJvdyBpbiBmaWxlIF0KICAgICAgICAgICAgc1s4XSA9ICJlbmFibGVDb2luU3lzdGVtID0gVHJ1ZSIrIlxuIgogICAgICAgICAgICBmID0gb3Blbihicy5nZXRFbnZpcm9ubWVudCgpWydzeXN0ZW1TY3JpcHRzRGlyZWN0b3J5J10gKyAiL3NldHRpbmdzLnB5IiwidyIpCiAgICAgICAgICAgIGZvciBpIGluIHM6CiAgICAgICAgICAgICAgICBmLndyaXRlKGkpCiAgICAgICAgICAgIGYuY2xvc2UoKQogICAgICAgICAgICBicy5zY3JlZW5NZXNzYWdlKCJDb2luIFN5c3RlbSAgLS0tLT4gRW5hYmxlZCIsY29sb3IgPSAoMCwxLDApKQogICAgICAgICAgICBicy5zY3JlZW5NZXNzYWdlKCJOb3cgUmVzdGFydCBTZXJ2ZXIgVXNpbmcgL3F1aXQiLGNvbG9yID0gKDEsMSwxKSkKICAgICAgICAgICAgCiN0ZWFtIG5hbWUgCmRlZiB0TihOYW1lMSxOYW1lMik6CiAgICBOMSA9ICInIitOYW1lMSsiJyIKICAgIE4yID0gIiciK05hbWUyKyInIgogICAgd2l0aCBvcGVuKGJzLmdldEVudmlyb25tZW50KClbJ3N5c3RlbVNjcmlwdHNEaXJlY3RvcnknXSArICIvYnNUZWFtR2FtZS5weSIpIGFzIChmaWxlKToKICAgICAgICBzID0gWyByb3cgZm9yIHJvdyBpbiBmaWxlIF0KICAgICAgICBzWzEwXSA9ICJnRGVmYXVsdFRlYW1OYW1lcyA9ICh1IitOMSsiLHUiK04yKyIpIisiXG4iCiAgICAgICAgZiA9IG9wZW4oYnMuZ2V0RW52aXJvbm1lbnQoKVsnc3lzdGVtU2NyaXB0c0RpcmVjdG9yeSddICsgIi9ic1RlYW1HYW1lLnB5IiwidyIpCiAgICAgICAgZm9yIGkgaW4gczoKICAgICAgICAgICAgZi53cml0ZShpKQogICAgICAgIGYuY2xvc2UoKQogICAgICAgIGJzLnNjcmVlbk1lc3NhZ2UoIlRlYW0gTmFtZSBDaGFuZ2VkIFRvKCIrTmFtZTErIiwiK05hbWUyKyIpIikKICAgICAgICBicy5zY3JlZW5NZXNzYWdlKCJOb3cgUmVzdGFydCBTZXJ2ZXIgVXNpbmcgL3F1aXQiLCB0cmFuc2llbnQ9VHJ1ZSwgY2xpZW50cz1bY2xpZW50SURdKQonJycKZGVmIGxpZ2h0KCk6CiAgICAgICAgICAgIGxpZ2h0ID0gYnMubmV3Tm9kZSgnbGlnaHQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM9eydwb3NpdGlvbic6KDAsMTAsMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbG9yJzogKDAuMiwwLjIsMC40KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndm9sdW1lSW50ZW5zaXR5U2NhbGUnOiAxLjAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3JhZGl1cyc6MTB9KQogICAgICAgICAgICBic1V0aWxzLmFuaW1hdGUobGlnaHQsImludGVuc2l0eSIsezA6MSw1MDoxMCwxNTA6NSwyNTA6MCwyNjA6MTAsNDEwOjUsNTEwOjB9KQonJycKY1QgPSAiU2NyaXB0IEJ5IERlc2lyZSB8IExpbmsgOiBodHRwczovL2dpdGh1Yi5jb20vU3Vkby1EZXNpZXIvRGVzaXJlLVNlcnZlci1tYWluIiAjRG8gTm90IENoYW5nZSBPciBTY3JpcHQgV2lsbCBDcmFzaAoKZGVmIGNoZWNrKGNyZSk6CiAgICBpZiBjcmUgPT0gY3JlZGl0OgogICAgICAgIGlmIGNyZSBub3QgaW4gc2V0Y2hhdC5tZXNzYWdlTGlzdDoKICAgICAgICAgICAgc2V0Y2hhdC5tZXNzYWdlTGlzdC5hcHBlbmQoY3JlKQogICAgZWxzZToKICAgICAgICBmb3IgaSBpbiBicy5nZXRTZXNzaW9uKCkucGxheWVyczoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgaS5hY3Rvci5ub2RlLmhhbmRsZU1lc3NhZ2UoYnMuRGllTWVzc2FnZSgpKQogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgYnMuc2NyZWVuTWVzc2FnZSgiQ3JlZGl0IFRvIERlc2lyZSBOb3QgR2l2ZW4sIFNjcmlwdCBNYWRlIEJ5IERlc2lyZSIsY29sb3IgPSAoMSwwLDApKQ=="))